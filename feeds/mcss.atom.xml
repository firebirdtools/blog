<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>blog - mcss</title><link href="https://firebirdtools.github.io/blog/" rel="alternate"></link><link href="https://firebirdtools.github.io/blog/feeds/mcss.atom.xml" rel="self"></link><id>https://firebirdtools.github.io/blog/</id><updated>2019-01-15T00:00:00+01:00</updated><entry><title>mcss-pelican-git blog full</title><link href="https://firebirdtools.github.io/blog/mcss-pelican-git-blog-full.html" rel="alternate"></link><published>2019-01-15T00:00:00+01:00</published><updated>2019-01-15T00:00:00+01:00</updated><author><name>firebird</name></author><id>tag:firebirdtools.github.io,2019-01-15:/blog/mcss-pelican-git-blog-full.html</id><summary type="html">&lt;p&gt;完整过程&lt;/p&gt;
</summary><content type="html">&lt;p&gt;&lt;a href="https://mcss.mosra.cz/"&gt;mcss网站&lt;/a&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;section id="github"&gt;
&lt;h2&gt;&lt;a href="#github"&gt;GitHub&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;New repository&lt;/li&gt;
&lt;li&gt;blog name&lt;/li&gt;
&lt;li&gt;create repository&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
&lt;hr /&gt;
&lt;section id="test-git"&gt;
&lt;h2&gt;&lt;a href="#test-git"&gt;test git&lt;/a&gt;&lt;/h2&gt;
&lt;pre class="code sh"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;# blog&amp;quot;&lt;/span&gt; &amp;gt;&amp;gt; README.md
git init
git add README.md
git commit -m &lt;span class="s2"&gt;&amp;quot;first commit&amp;quot;&lt;/span&gt;
git remote add origin https://github.com/firebirdtools/blog.git
git push -u origin master&lt;/pre&gt;
&lt;section id="sample-code-1"&gt;
&lt;h3&gt;&lt;a href="#sample-code-1"&gt;sample code 1&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;执行如下命令后，再刷新浏览器上的blog网页，如我的是：&lt;a href="https://github.com/firebirdtools/blog"&gt;https://github.com/firebirdtools/blog&lt;/a&gt;&lt;/p&gt;
&lt;pre class="code sh"&gt;firebird&amp;#64;tools:~/github$ mkdir blog &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="nb"&gt;cd&lt;/span&gt; blog
firebird&amp;#64;tools:~/github/blog$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;# blog&amp;quot;&lt;/span&gt; &amp;gt;&amp;gt;README.md
firebird&amp;#64;tools:~/github/blog$ git init
已初始化空的 Git 仓库于 /home/firebird/github/blog/.git/
firebird&amp;#64;tools:~/github/blog$ git add README.md
firebird&amp;#64;tools:~/github/blog$ git commit -m &lt;span class="s2"&gt;&amp;quot;first commit&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;master（根提交） 384328f&lt;span class="o"&gt;]&lt;/span&gt; first commit
 &lt;span class="m"&gt;1&lt;/span&gt; file changed, &lt;span class="m"&gt;1&lt;/span&gt; insertion&lt;span class="o"&gt;(&lt;/span&gt;+&lt;span class="o"&gt;)&lt;/span&gt;
 create mode &lt;span class="m"&gt;100644&lt;/span&gt; README.md
firebird&amp;#64;tools:~/github/blog$ git remote add origin https://github.com/firebirdtools/blog.git
firebird&amp;#64;tools:~/github/blog$ git push -u origin master
Username &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="s1"&gt;'https://github.com'&lt;/span&gt;: firebirdtools
Password &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="s1"&gt;'https://firebirdtools&amp;#64;github.com'&lt;/span&gt;:
对象计数中: &lt;span class="m"&gt;3&lt;/span&gt;, 完成.
写入对象中: &lt;span class="m"&gt;100&lt;/span&gt;% &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;/3&lt;span class="o"&gt;)&lt;/span&gt;, &lt;span class="m"&gt;219&lt;/span&gt; bytes &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="m"&gt;219&lt;/span&gt;.00 KiB/s, 完成.
Total &lt;span class="m"&gt;3&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;delta &lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;, reused &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;delta &lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
To https://github.com/firebirdtools/blog.git
 * &lt;span class="o"&gt;[&lt;/span&gt;new branch&lt;span class="o"&gt;]&lt;/span&gt;      master -&amp;gt; master
分支 &lt;span class="s1"&gt;'master'&lt;/span&gt; 设置为跟踪来自 &lt;span class="s1"&gt;'origin'&lt;/span&gt; 的远程分支 &lt;span class="s1"&gt;'master'&lt;/span&gt;。
firebird&amp;#64;tools:~/github/blog$&lt;/pre&gt;
&lt;/section&gt;
&lt;/section&gt;
&lt;hr /&gt;
&lt;section id="pelican-quickstart"&gt;
&lt;h2&gt;&lt;a href="#pelican-quickstart"&gt;pelican-quickstart 初始化&lt;/a&gt;&lt;/h2&gt;
&lt;section id="sample-code-2"&gt;
&lt;h3&gt;&lt;a href="#sample-code-2"&gt;sample code 2&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;通过 &lt;code&gt;pelican-quickstart&lt;/code&gt; 会自动生成相关目录和文件&lt;/li&gt;
&lt;li&gt;使用 &lt;code&gt;tree&lt;/code&gt;  命令，可显示示例中的文件；若没有，则安装 &lt;code&gt;sudo apt-get install tree&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class="code sh"&gt;firebird&amp;#64;tools:~/github/blog$ pelican-quickstart
Welcome to pelican-quickstart v4.0.1.

This script will &lt;span class="nb"&gt;help&lt;/span&gt; you create a new Pelican-based website.

Please answer the following questions so this script can generate the files
needed by Pelican.


&amp;gt; Where &lt;span class="k"&gt;do&lt;/span&gt; you want to create your new web site? &lt;span class="o"&gt;[&lt;/span&gt;.&lt;span class="o"&gt;]&lt;/span&gt;
&amp;gt; What will be the title of this web site? blog
&amp;gt; Who will be the author of this web site? firebird
&amp;gt; What will be the default language of this web site? &lt;span class="o"&gt;[&lt;/span&gt;zh&lt;span class="o"&gt;]&lt;/span&gt; en
&amp;gt; Do you want to specify a URL prefix? e.g., https://example.com   &lt;span class="o"&gt;(&lt;/span&gt;Y/n&lt;span class="o"&gt;)&lt;/span&gt; n
&amp;gt; Do you want to &lt;span class="nb"&gt;enable&lt;/span&gt; article pagination? &lt;span class="o"&gt;(&lt;/span&gt;Y/n&lt;span class="o"&gt;)&lt;/span&gt;
&amp;gt; How many articles per page &lt;span class="k"&gt;do&lt;/span&gt; you want? &lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="m"&gt;10&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;
&amp;gt; What is your &lt;span class="nb"&gt;time&lt;/span&gt; zone? &lt;span class="o"&gt;[&lt;/span&gt;Europe/Paris&lt;span class="o"&gt;]&lt;/span&gt;
&amp;gt; Do you want to generate a tasks.py/Makefile to automate generation and publishing? &lt;span class="o"&gt;(&lt;/span&gt;Y/n&lt;span class="o"&gt;)&lt;/span&gt;
&amp;gt; Do you want to upload your website using FTP? &lt;span class="o"&gt;(&lt;/span&gt;y/N&lt;span class="o"&gt;)&lt;/span&gt;
&amp;gt; Do you want to upload your website using SSH? &lt;span class="o"&gt;(&lt;/span&gt;y/N&lt;span class="o"&gt;)&lt;/span&gt;
&amp;gt; Do you want to upload your website using Dropbox? &lt;span class="o"&gt;(&lt;/span&gt;y/N&lt;span class="o"&gt;)&lt;/span&gt;
&amp;gt; Do you want to upload your website using S3? &lt;span class="o"&gt;(&lt;/span&gt;y/N&lt;span class="o"&gt;)&lt;/span&gt;
&amp;gt; Do you want to upload your website using Rackspace Cloud Files? &lt;span class="o"&gt;(&lt;/span&gt;y/N&lt;span class="o"&gt;)&lt;/span&gt;
&amp;gt; Do you want to upload your website using GitHub Pages? &lt;span class="o"&gt;(&lt;/span&gt;y/N&lt;span class="o"&gt;)&lt;/span&gt;
Done. Your new project is available at /home/firebird/github/blog
firebird&amp;#64;tools:~/github/blog$ tree
.
├── content
├── Makefile
├── output
├── pelicanconf.py
├── publishconf.py
├── README.md
└── tasks.py

&lt;span class="m"&gt;2&lt;/span&gt; directories, &lt;span class="m"&gt;5&lt;/span&gt; files
firebird&amp;#64;tools:~/github/blog$&lt;/pre&gt;
&lt;/section&gt;
&lt;/section&gt;
&lt;hr /&gt;
&lt;section id="m-css"&gt;
&lt;h2&gt;&lt;a href="#m-css"&gt;m.css&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;在项目中，安装m.css，以便引用&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class="code sh"&gt;git submodule add git://github.com/mosra/m.css&lt;/pre&gt;
&lt;ol start="2"&gt;
&lt;li&gt;打开 &lt;code&gt;publishconf.py&lt;/code&gt; ，添加如下代码&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class="code py"&gt;&lt;span class="n"&gt;THEME&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'m.css/pelican-theme'&lt;/span&gt;
&lt;span class="n"&gt;THEME_STATIC_DIR&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'static'&lt;/span&gt;
&lt;span class="n"&gt;DIRECT_TEMPLATES&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'index'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="n"&gt;M_CSS_FILES&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
               &lt;span class="s1"&gt;'/static/m-dark.css'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;M_THEME_COLOR&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'#22272e'&lt;/span&gt;

&lt;span class="n"&gt;PLUGIN_PATHS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'m.css/pelican-plugins'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;PLUGINS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'m.htmlsanity'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;/pre&gt;
&lt;section id="sample-code-3"&gt;
&lt;h3&gt;&lt;a href="#sample-code-3"&gt;sample code 3&lt;/a&gt;&lt;/h3&gt;
&lt;pre class="code sh"&gt;firebird&amp;#64;tools:~/github/blog$ git submodule add git://github.com/mosra/m.css
正克隆到 &lt;span class="s1"&gt;'/home/firebird/github/blog/m.css'&lt;/span&gt;...
remote: Enumerating objects: &lt;span class="m"&gt;566&lt;/span&gt;, &lt;span class="k"&gt;done&lt;/span&gt;.
remote: Counting objects: &lt;span class="m"&gt;100&lt;/span&gt;% &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;566&lt;/span&gt;/566&lt;span class="o"&gt;)&lt;/span&gt;, &lt;span class="k"&gt;done&lt;/span&gt;.
remote: Compressing objects: &lt;span class="m"&gt;100&lt;/span&gt;% &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;331&lt;/span&gt;/331&lt;span class="o"&gt;)&lt;/span&gt;, &lt;span class="k"&gt;done&lt;/span&gt;.
remote: Total &lt;span class="m"&gt;8828&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;delta &lt;span class="m"&gt;359&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;, reused &lt;span class="m"&gt;357&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;delta &lt;span class="m"&gt;231&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;, pack-reused &lt;span class="m"&gt;8262&lt;/span&gt;
接收对象中: &lt;span class="m"&gt;100&lt;/span&gt;% &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;8828&lt;/span&gt;/8828&lt;span class="o"&gt;)&lt;/span&gt;, &lt;span class="m"&gt;3&lt;/span&gt;.04 MiB &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="m"&gt;49&lt;/span&gt;.00 KiB/s, 完成.
处理 delta 中: &lt;span class="m"&gt;100&lt;/span&gt;% &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;6328&lt;/span&gt;/6328&lt;span class="o"&gt;)&lt;/span&gt;, 完成.
firebird&amp;#64;tools:~/github/blog$&lt;/pre&gt;
&lt;p&gt;publishconf.py文件添加后内容&lt;/p&gt;
&lt;pre class="code py"&gt;&lt;span class="ch"&gt;#!/usr/bin/env python&lt;/span&gt;
&lt;span class="c1"&gt;# -*- coding: utf-8 -*- #&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;__future__&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;unicode_literals&lt;/span&gt;

&lt;span class="c1"&gt;# This file is only used if you use `make publish` or&lt;/span&gt;
&lt;span class="c1"&gt;# explicitly specify it as your config file.&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;
&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;curdir&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pelicanconf&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;

&lt;span class="c1"&gt;# If your site is available via HTTPS, make sure SITEURL begins with https://&lt;/span&gt;
&lt;span class="n"&gt;SITEURL&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;''&lt;/span&gt;
&lt;span class="n"&gt;RELATIVE_URLS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;

&lt;span class="n"&gt;FEED_ALL_ATOM&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'feeds/all.atom.xml'&lt;/span&gt;
&lt;span class="n"&gt;CATEGORY_FEED_ATOM&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'feeds/{slug}.atom.xml'&lt;/span&gt;

&lt;span class="n"&gt;DELETE_OUTPUT_DIRECTORY&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;

&lt;span class="c1"&gt;# Following items are often useful when publishing&lt;/span&gt;

&lt;span class="c1"&gt;#DISQUS_SITENAME = &amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;#GOOGLE_ANALYTICS = &amp;quot;&amp;quot;&lt;/span&gt;


&lt;span class="c1"&gt;# ================================================================ #&lt;/span&gt;
&lt;span class="c1"&gt;# add m.css-theme&lt;/span&gt;
&lt;span class="n"&gt;THEME&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'m.css/pelican-theme'&lt;/span&gt;
&lt;span class="n"&gt;THEME_STATIC_DIR&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'static'&lt;/span&gt;
&lt;span class="n"&gt;DIRECT_TEMPLATES&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'index'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="n"&gt;M_CSS_FILES&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                &lt;span class="s1"&gt;'/static/m-dark.css'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;M_THEME_COLOR&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'#22272e'&lt;/span&gt;

&lt;span class="n"&gt;PLUGIN_PATHS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'m.css/pelican-plugins'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;PLUGINS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'m.htmlsanity'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="c1"&gt;# ================================================================ #&lt;/span&gt;&lt;/pre&gt;
&lt;/section&gt;
&lt;/section&gt;
&lt;hr /&gt;
&lt;section id="id1"&gt;
&lt;h2&gt;&lt;a href="#id1"&gt;本地预览&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;编辑好的rst文件放置于 &lt;code&gt;content\&lt;/code&gt; 文件夹&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;rst示例代码&lt;/p&gt;
&lt;pre class="code rst"&gt;&lt;span class="gh"&gt;mcss-pelican-git blog full&lt;/span&gt;
&lt;span class="gh"&gt;################################&lt;/span&gt;

&lt;span class="nc"&gt;:date:&lt;/span&gt; &lt;span class="nf"&gt;2019-01-15&lt;/span&gt;
&lt;span class="nc"&gt;:category:&lt;/span&gt; &lt;span class="nf"&gt;mcss&lt;/span&gt;
&lt;span class="nc"&gt;:tags:&lt;/span&gt; &lt;span class="nf"&gt;Pelican, mcss, re&amp;shy;Struc&amp;shy;tured&amp;shy;Text, git&lt;/span&gt;
&lt;span class="nc"&gt;:summary:&lt;/span&gt; &lt;span class="nf"&gt;完整过程&lt;/span&gt;

&lt;span class="s"&gt;`mcss网站 &lt;/span&gt;&lt;span class="si"&gt;&amp;lt;https://mcss.mosra.cz/&amp;gt;&lt;/span&gt;&lt;span class="s"&gt;`_&lt;/span&gt;&lt;/pre&gt;
&lt;ol start="2"&gt;
&lt;li&gt;本地预览，运行如下命令&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class="code sh"&gt;pelican content -s publishconf.py
&lt;span class="nb"&gt;cd&lt;/span&gt; output
python3 -m http.server&lt;/pre&gt;
&lt;p&gt;访问 &lt;a href="http://localhost:8000"&gt;http://localhost:8000&lt;/a&gt; ，即可预览到带主题的网页。&lt;/p&gt;
&lt;p&gt;输入： &lt;code&gt;ctrl + c&lt;/code&gt; 停止服务&lt;/p&gt;
&lt;section id="sample-code-4"&gt;
&lt;h3&gt;&lt;a href="#sample-code-4"&gt;sample code 4&lt;/a&gt;&lt;/h3&gt;
&lt;pre class="code sh"&gt;firebird&amp;#64;tools:~/github/blog$ pelican content -s publishconf.py
WARNING: Feeds generated without SITEURL &lt;span class="nb"&gt;set&lt;/span&gt; properly may not be valid
Done: Processed &lt;span class="m"&gt;1&lt;/span&gt; article, &lt;span class="m"&gt;0&lt;/span&gt; drafts, &lt;span class="m"&gt;0&lt;/span&gt; pages, &lt;span class="m"&gt;0&lt;/span&gt; hidden pages and &lt;span class="m"&gt;0&lt;/span&gt; draft pages in &lt;span class="m"&gt;0&lt;/span&gt;.33 seconds.
firebird&amp;#64;tools:~/github/blog$ &lt;span class="nb"&gt;cd&lt;/span&gt; output
firebird&amp;#64;tools:~/github/blog/output$ python3 -m http.server
Serving HTTP on &lt;span class="m"&gt;0&lt;/span&gt;.0.0.0 port &lt;span class="m"&gt;8000&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;http://0.0.0.0:8000/&lt;span class="o"&gt;)&lt;/span&gt; ...&lt;/pre&gt;
&lt;/section&gt;
&lt;/section&gt;
&lt;hr /&gt;
&lt;section id="id2"&gt;
&lt;h2&gt;&lt;a href="#id2"&gt;发布到github&lt;/a&gt;&lt;/h2&gt;
&lt;section id="publishconf-py"&gt;
&lt;h3&gt;&lt;a href="#publishconf-py"&gt;修改publishconf.py&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;publishconf.py&lt;/code&gt; 文件更改两处：&lt;/p&gt;
&lt;pre class="code py"&gt;&lt;span class="n"&gt;SITEURL&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'https://firebirdtools.github.io/blog'&lt;/span&gt;
&lt;span class="n"&gt;M_CSS_FILES&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
               &lt;span class="s1"&gt;'https://firebirdtools.github.io/blog/static/m-dark.css'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;/pre&gt;
&lt;p&gt;文件更改后内容：&lt;/p&gt;
&lt;pre class="code py"&gt;&lt;span class="ch"&gt;#!/usr/bin/env python&lt;/span&gt;
&lt;span class="c1"&gt;# -*- coding: utf-8 -*- #&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;__future__&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;unicode_literals&lt;/span&gt;

&lt;span class="c1"&gt;# This file is only used if you use `make publish` or&lt;/span&gt;
&lt;span class="c1"&gt;# explicitly specify it as your config file.&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;
&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;curdir&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pelicanconf&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;

&lt;span class="c1"&gt;# If your site is available via HTTPS, make sure SITEURL begins with https://&lt;/span&gt;
&lt;span class="n"&gt;SITEURL&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'https://firebirdtools.github.io/blog'&lt;/span&gt;
&lt;span class="n"&gt;RELATIVE_URLS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;

&lt;span class="n"&gt;FEED_ALL_ATOM&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'feeds/all.atom.xml'&lt;/span&gt;
&lt;span class="n"&gt;CATEGORY_FEED_ATOM&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'feeds/{slug}.atom.xml'&lt;/span&gt;

&lt;span class="n"&gt;DELETE_OUTPUT_DIRECTORY&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;

&lt;span class="c1"&gt;# Following items are often useful when publishing&lt;/span&gt;

&lt;span class="c1"&gt;#DISQUS_SITENAME = &amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;#GOOGLE_ANALYTICS = &amp;quot;&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;# ================================================================ #&lt;/span&gt;
&lt;span class="c1"&gt;# add m.css-theme&lt;/span&gt;
&lt;span class="n"&gt;THEME&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'m.css/pelican-theme'&lt;/span&gt;
&lt;span class="n"&gt;THEME_STATIC_DIR&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'static'&lt;/span&gt;
&lt;span class="n"&gt;DIRECT_TEMPLATES&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'index'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="n"&gt;M_CSS_FILES&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
               &lt;span class="s1"&gt;'https://firebirdtools.github.io/blog/static/m-dark.css'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;M_THEME_COLOR&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'#22272e'&lt;/span&gt;

&lt;span class="n"&gt;PLUGIN_PATHS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'m.css/pelican-plugins'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;PLUGINS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'m.htmlsanity'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="c1"&gt;# ================================================================ #&lt;/span&gt;&lt;/pre&gt;
&lt;/section&gt;
&lt;section id="gh-pages"&gt;
&lt;h3&gt;&lt;a href="#gh-pages"&gt;发布于gh-pages分支&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;执行 &lt;code&gt;pip3 install ghp-import&lt;/code&gt; ，将目录复制到存储库的gh-pages分支。&lt;/p&gt;
&lt;pre class="code sh"&gt;firebird&amp;#64;tools:~/github/blog$ pelican content -s publishconf.py
Done: Processed &lt;span class="m"&gt;1&lt;/span&gt; article, &lt;span class="m"&gt;0&lt;/span&gt; drafts, &lt;span class="m"&gt;0&lt;/span&gt; pages, &lt;span class="m"&gt;0&lt;/span&gt; hidden pages and &lt;span class="m"&gt;0&lt;/span&gt; draft pages in &lt;span class="m"&gt;0&lt;/span&gt;.32 seconds.
firebird&amp;#64;tools:~/github/blog$ git add .
firebird&amp;#64;tools:~/github/blog$ git commit -m &lt;span class="s2"&gt;&amp;quot;first blog&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;master 8e133df&lt;span class="o"&gt;]&lt;/span&gt; first blog
 &lt;span class="m"&gt;31&lt;/span&gt; files changed, &lt;span class="m"&gt;10283&lt;/span&gt; insertions&lt;span class="o"&gt;(&lt;/span&gt;+&lt;span class="o"&gt;)&lt;/span&gt;
...
firebird&amp;#64;tools:~/github/blog$ git push -u origin master
Username &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="s1"&gt;'https://github.com'&lt;/span&gt;: firebirdtools
Password &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="s1"&gt;'https://firebirdtools&amp;#64;github.com'&lt;/span&gt;:
对象计数中: &lt;span class="m"&gt;40&lt;/span&gt;, 完成.
Delta compression using up to &lt;span class="m"&gt;4&lt;/span&gt; threads.
压缩对象中: &lt;span class="m"&gt;100&lt;/span&gt;% &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;38&lt;/span&gt;/38&lt;span class="o"&gt;)&lt;/span&gt;, 完成.
写入对象中: &lt;span class="m"&gt;100&lt;/span&gt;% &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;40&lt;/span&gt;/40&lt;span class="o"&gt;)&lt;/span&gt;, &lt;span class="m"&gt;48&lt;/span&gt;.59 KiB &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="m"&gt;4&lt;/span&gt;.05 MiB/s, 完成.
Total &lt;span class="m"&gt;40&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;delta &lt;span class="m"&gt;12&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;, reused &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;delta &lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
remote: Resolving deltas: &lt;span class="m"&gt;100&lt;/span&gt;% &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;12&lt;/span&gt;/12&lt;span class="o"&gt;)&lt;/span&gt;, &lt;span class="k"&gt;done&lt;/span&gt;.
To https://github.com/firebirdtools/blog.git
   384328f..8e133df  master -&amp;gt; master
分支 &lt;span class="s1"&gt;'master'&lt;/span&gt; 设置为跟踪来自 &lt;span class="s1"&gt;'origin'&lt;/span&gt; 的远程分支 &lt;span class="s1"&gt;'master'&lt;/span&gt;。
firebird&amp;#64;tools:~/github/blog$ ghp-import output -b gh-pages
firebird&amp;#64;tools:~/github/blog$ git push origin gh-pages
Username &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="s1"&gt;'https://github.com'&lt;/span&gt;: firebirdtools
Password &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="s1"&gt;'https://firebirdtools&amp;#64;github.com'&lt;/span&gt;:
对象计数中: &lt;span class="m"&gt;7&lt;/span&gt;, 完成.
Delta compression using up to &lt;span class="m"&gt;4&lt;/span&gt; threads.
压缩对象中: &lt;span class="m"&gt;100&lt;/span&gt;% &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;7&lt;/span&gt;/7&lt;span class="o"&gt;)&lt;/span&gt;, 完成.
写入对象中: &lt;span class="m"&gt;100&lt;/span&gt;% &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;7&lt;/span&gt;/7&lt;span class="o"&gt;)&lt;/span&gt;, &lt;span class="m"&gt;1&lt;/span&gt;.30 KiB &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;.30 MiB/s, 完成.
Total &lt;span class="m"&gt;7&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;delta &lt;span class="m"&gt;4&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;, reused &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;delta &lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
remote: Resolving deltas: &lt;span class="m"&gt;100&lt;/span&gt;% &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;4&lt;/span&gt;/4&lt;span class="o"&gt;)&lt;/span&gt;, completed with &lt;span class="m"&gt;3&lt;/span&gt; &lt;span class="nb"&gt;local&lt;/span&gt; objects.
To https://github.com/firebirdtools/blog.git
   7299d46..d732a02  gh-pages -&amp;gt; gh-pages
firebird&amp;#64;tools:~/github/blog$&lt;/pre&gt;
&lt;p&gt;打开https://firebirdtools.github.io/blog，可看到带主题的网页&lt;/p&gt;
&lt;/section&gt;
&lt;/section&gt;
</content><category term="Pelican"></category><category term="mcss"></category><category term="re­Struc­tured­Text"></category><category term="git"></category></entry></feed>